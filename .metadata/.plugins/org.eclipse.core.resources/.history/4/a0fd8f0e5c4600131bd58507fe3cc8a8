package chaosPoems;

import java.util.ArrayList;

public class SearchEngine {

	private Boolean fromleft;
	private Boolean withkeywords;
	private int numberofresults;

	public SearchEngine(Boolean fromleft, int numberofresults,
			Boolean withkeywords) {

		this.fromleft = fromleft;
		this.numberofresults = numberofresults;
		this.withkeywords = withkeywords;

	}

	public SearchEngine(int numberofresults) {

		this(true, numberofresults, false);

	}

	public void sendXML(String URL){
	
		XMLReader myReader = XMLReaderFactory.createXMLReader();
		myReader.setContentHandler(handler);
		myReader.parse(new InputSource(new URL(url).openStream()));
		
	}
	
	
	public ArrayList<String> Search(String keywords) {

		ArrayList<String> res = new ArrayList<String>();

		System.out.println(contructSindiceURL(keywords));
		System.out.println(contructWikiURL("da", keywords));
		
		return res;
	}

	private String contructSindiceURL(String keywords) {

		String k = "\"" + keywords.replaceAll(" ", "+") + "\"";

		return "http://api.sindice.com/v2/search?q=" + k + "&qt=term&page=1";

	}
	
	private String contructWikiURL(String domain, String keywords) {

		String k = "\"" + keywords.replaceAll("a", "+") + "%20";

		return "http://" + domain + ".wikipedia.org/w/api.php?action=query&list=search&srsearch=" + k + "&srprop=snippet&srwhat=text&format=xml";

	}
	

	public Boolean getFromleft() {
		return fromleft;
	}

	public void setFromleft(Boolean fromleft) {
		this.fromleft = fromleft;
	}

	public Boolean getwithkeywords() {
		return withkeywords;
	}

	public void setwithkeywords(Boolean withkeywords) {
		this.withkeywords = withkeywords;
	}

	public int getNumberofresults() {
		return numberofresults;
	}

	public void setNumberofresults(int numberofresults) {
		this.numberofresults = numberofresults;
	}

}
